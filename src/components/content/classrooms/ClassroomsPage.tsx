import React from "react";import { useDispatch, useSelector } from "react-redux";import ClassroomsFilter from "./filter/Filter";import ClassroomsCaviar from "./caviar/Caviar";import ClassroomsGrid from "./classroomsGrid/ClassroomsGrid";import { Classroom } from "../../../store/types";import { AuditoriumStateType } from "../../../store/store";import PopupClassroom from "./popupClassroom/PopupClassroomContainer";import { useHistory } from "react-router-dom";import { fetchClassroomsTC } from "../../../store/effects";import { gql, useQuery } from "@apollo/client";const ClassroomsPage = () => {  const CLASSROOMS = gql`    query classrooms {      classrooms {        id        name        chair        special        isWing        description        occupied {          user {            id            firstName            patronymic            lastName            type            phoneNumber            email            department          }          until        }        instruments {          id          type          name          rate        }        schedule(date: "2020-12-17T03:24:00") {          user {            lastName          }          from          to          activity        }      }    }  `;  const { loading, data, error } = useQuery(CLASSROOMS);  const filter = useSelector<AuditoriumStateType, string>(    (state) => state.classroomsReducer.classroomsFilter  );  if (loading) return <h1>Loading</h1>;  const classrooms = data.classrooms;  let classroomsFilter =    filter === "FREE"      ? (classroom: Classroom) => classroom.occupied === null      : filter === "SPECIAL"      ? (classroom: Classroom) => classroom.special !== null      : filter === "CHAIR"      ? (classroom: Classroom) => classroom.chair !== null      : () => true;  const props = {    classrooms: classrooms,    classroomsFilter: classroomsFilter,  };  return (    <>      <PopupClassroom />      <ClassroomsFilter />      <ClassroomsCaviar {...props} />      <ClassroomsGrid {...props} />    </>  );};export default ClassroomsPage;